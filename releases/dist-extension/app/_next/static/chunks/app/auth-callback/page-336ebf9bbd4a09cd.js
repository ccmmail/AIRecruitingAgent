(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{224:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(5155),r=n(2115),a=n(8999);function s(){let e=(0,a.useRouter)(),[t,n]=(0,r.useState)("Completing sign-in…");return(0,r.useEffect)(()=>{try{let t=window.location.hash.replace(/^#/,""),i=new URLSearchParams(t),r=i.get("error");if(r){n("Authentication error: ".concat(i.get("error_description")||r));return}let a=i.get("access_token"),s=i.get("id_token"),o=parseInt(i.get("expires_in")||"0",10),c=i.get("state");if(!a||!s||!o||!c){n("Authentication failed: missing token(s).");return}let l=sessionStorage.getItem("ai_recruiting_agent_oauth_state");if(l&&c!==l){n("Authentication failed: state mismatch.");return}let u=function(e){let t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/");try{return JSON.parse(atob(t))}catch(e){return{}}}(s.split(".")[1]||""),g=sessionStorage.getItem("ai_recruiting_agent_oauth_nonce");if(g&&(null==u?void 0:u.nonce)!==g){n("Authentication failed: nonce mismatch.");return}let _={accessToken:a,idToken:s,expiresAt:Date.now()+1e3*o};try{localStorage.setItem("ai_recruiting_agent_auth",JSON.stringify(_))}catch(e){}sessionStorage.removeItem("ai_recruiting_agent_oauth_state"),sessionStorage.removeItem("ai_recruiting_agent_oauth_nonce"),e.replace("/panel")}catch(e){n("Authentication failed: ".concat((null==e?void 0:e.message)||"unknown error"))}},[e]),(0,i.jsx)("div",{style:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center",fontFamily:"system-ui,sans-serif"},children:(0,i.jsx)("div",{style:{fontSize:14,color:"#555"},children:"Completing sign-in…"})})}},1303:(e,t,n)=>{Promise.resolve().then(n.bind(n,224))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(1303)),_N_E=e.O()}]);